# # Routing
- **Changing the URL** and **the content** of the SPA while **not reloading** the page.

## ## Registering Routes
**1. step**
- In **app.module.ts**, add a constant of a **Routes** type that will hold an **array** of registered routes,
- **import** _Routes_ from Angular router,
```typescript
import { Routes } from '@angular/router';

const appRoutes: Routes = [];
```

**2. step**
- In **app.module.ts**, **import** _RouterModule_ from Angular router, 
- **add** a new import  **RouterModule** to _@NgModule_, 
- **call** a method **forRoot()** on the _RouterModule_ import and **pass** your constant of the Routes type as **an argument** of the method. 
```typescript
import { Routes, RouterModule } from '@angular/router';

const appRoutes: Routes = [
    // routes
];

@NgModule({
    // NgModule TypeScript code ...

    imports: [
        // other imports
        RouterModule.forRoot(appRoutes)
    ],

    // NgModule TypeScript code ...
})
```

**3. step**
- Each route is just an JavaScript object in the array, 
- structure for registering a route: `{ path: 'route', component: RoutePageComponent }`
  - **path** is entered in the URL after the domain of the SPA,
  - **component** is the component of the page that will be loaded,
- **example**:
```typescript
const appRoutes: Routes = [
    { path: 'users', component: UsersComponent }
];
```
- Homepage has **an empty string** in its _path_ definition of the JavaScript object: `{ path: '', component: HomepageComponent }`.

## ## Rendering the Components of the Routes
- In a **parent component .html file** _(app.component.html usually)_, **add** a **Router Outlet** directive as a selector HTML tag in a place, where you would normally put the component selector tag.
```html
<!-- parent-component.component.html -->

<!-- component HTML code -->

    <!-- normally: <app-child-component></app-child-component> -->
    <router-outlet></router-outlet>

<!-- component HTML code -->
```

## ## Navigating with Router Links
### Creating Router Links
- Creating router links is possible with **RouterLink** directive, it can be used in a **HTML link** two ways: 
  - with a link **attribute**: 
    - `<a routerLink="/">Home</a>`,
    - `<a routerLink="/users">Users</a>`,
  - with a link **property binding** with the value as a **string** (must be in single quotes `' '`, it may also be an array `[' ']` for more complex path building):
    - `<a [routerLink]="'/users'">Users</a>`,
    - `<a [routerLink]="['/users']">Users</a>`,
    - `<a [routerLink]="['/users', 'user']">User</a>`.

### Navigation Paths
- **Relative path** or **absolute path** may be used for creating router links:
  - **RELATIVE path**:
    - appends the route to the **current URL** `domain.com/current-path/route`:
      - `<a routerLink="user">` in a **user component** rendered in **users component** (parent component) will result in a `domain.com/users/user` URL link,
    - it is possible to use **folder directory** navigation:
      - current path: `./route` or nothing `/route`,
      - up a level: `../route`,
  - **ABSOLUTE path**: 
    - starts with a backslash `/`,
    - appends the route always to the **domain root** `domain.com/route`:
      - `<a routerLink="/user">` in a **user component** rendered in **users component** (parent component) will result in a `domain.com/user` URL link.

### Styling Active Router Links
- Let's say we have a navigation made of a list of links and we want to 
higlight 
(or in any other way change the CSS) of the **current active link** and also 
the 
**default active link** (_Home_ link for example),
- this can be achieved with a directive **routerLinkActive**, 
- _routerLinkActive_ can be added as an HTML attribute with the value of the 
CSS class highlighting the active link.

**routerLink DIRECTIVE:**
- the attribute is placed to **all the links** either as:  
  - an attribute of the **wrapping element**: 
```html
<li routerLinkActive="active">
    <a routerLink="route">Page</a>
</li>
```
   - an attribute of the **link itself**: 
```html
<li>
    <a routerLink="route" routerLinkActive="active">Page</a>
</li>
```

**routerLinkActive BEHAVIOUR:**
- _routerLinkActive_ directive analyses currently loaded path and checks which
 links lead to a route which uses this path and **by default** marks an 
 element as _active_ and adds the CSS class to it if it **contains** the path 
 you 
 are on, therefore: 
```html
<ul>
    <!-- 1st link:      ALWAYS highlighted as ACTIVE,
                        because the other two links CONTAIN
                        the PATH of the first link
         URL:           domain.com/ -->
    <li><a routerLink="/" routerLinkActive="active">Home</a></li>
    
    <!-- 2nd link path: domain.com/ (which is 1st link path) + users
         URL:           domain.com/users -->
    <li><a routerLink="users" routerLinkActive="active">Users</a></li>
    
    <!-- 3rd link path: domain.com/ (which is 1st link path) + groups
         URL:           domain.com/groups -->
    <li><a routerLink="groups" routerLinkActive="active">Groups</a></li>
</ul>
```

**routerLinkActive AND routerLinkActiveOptions**
- To solve this problem, you can define the **options** of 
_routerLinkActive_ with **routerLinkActiveOptions**, 
- _routerLinkActiveOptions_ is used as **property binding** 
`[routerLinkActiveOptions]` and as a **value** you pass a JavaScript object 
`{exact: true}`,
- with this JavaScript object, the class is **active** only if the **exact 
full path** matches whatever the link leads to,
- therefore, everything would have to be exact, not only part of the path: 
```html
<ul>
    <!-- 1st link:      highlighted only when domain.com/
         URL:           domain.com/ -->
    <li>
        <a routerLink="/" 
        routerLinkActive="active"
        routerLinkActiveOptions="{exact: true}">
            Home
        </a>
    </li>
    <li><a routerLink="users" routerLinkActive="active">Users</a></li>
    <li><a routerLink="groups" routerLinkActive="active">Groups</a></li>
</ul>
```

###
